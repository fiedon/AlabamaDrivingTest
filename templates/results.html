{% extends "base.html" %}

{% block content %}
<div class="card results-card">
    <h1>Exam Completed</h1>

    <div class="score-display {{ 'passed' if passed else 'failed' }}">
        {{ score }} / {{ total }}
    </div>

    <h2>{{ "PASSED" if passed else "FAILED" }}</h2>
    <p>You needed 24 correct answers to pass.</p>

    <a href="{{ url_for('start_exam') }}" class="btn btn-primary" style="margin-top: 1rem;">Restart Exam</a>

    {% if incorrect_answers %}
    <div class="review-section">
        <h3>Review Incorrect Answers</h3>
        {% for item in incorrect_answers %}
        <div class="review-item">
            <div class="review-q">Q: {{ item.question }}</div>
            <div class="review-answer wrong-ans">Your Answer: {{ item.user_answer }}</div>
            <div class="review-answer correct-ans">Correct Answer: {{ item.correct_answer }}</div>
            <div class="review-answer"><i>Explanation: {{ item.explanation }}</i></div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="review-section">
        <p>Perfect score! Great job.</p>
    </div>
    {% endif %}
</div>
{% endblock %}